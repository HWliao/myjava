<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.leyoujia.coa.zc.mall.dao.erp.IErpWorkerDAO">

  <select id="findComCodeByWorkerId" resultType="java.lang.String">
    SELECT
      sc.CM_CODE
    FROM
      HR_WORKER hw
      LEFT JOIN SYSTEM_DEPT_BACK sdb ON sdb.ID = hw.DEPT_ID
      LEFT JOIN SYSTEM_COMPANY sc ON sc.OLD_ID = sdb.DEPT_COMP_ID
    WHERE
      hw.WORKER_ID = #{workerId}
    LIMIT 1
  </select>
</mapper>
